{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport Settings from \"../constants/Settings\";\nimport { GetProductById, GetProducts } from \"../utils/Api\";\nimport { PopupOk, PopupOkCancel } from \"../utils/Popup\";\nimport { TextParagraph, TextH1, TextH2, TextLabel } from \"../components/StyledText\";\nimport Styles from \"../styles/MainStyle\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function ViewMenuItemScreen(props) {\n  var _MenuItem$category;\n  var MenuItemTemplate = {\n    id: 0,\n    name: \"\",\n    description: \"\",\n    price: 0,\n    category: {\n      name: \"\",\n      id: 0\n    },\n    ingredient: \"\",\n    dietary: \"\",\n    imageName: \"\"\n  };\n  var styles = StyleSheet.create({\n    container: {\n      paddingTop: 50\n    },\n    stretch: {\n      width: 100,\n      height: 100\n    }\n  });\n  var _React$useState = React.useState(MenuItemTemplate),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    MenuItem = _React$useState2[0],\n    setMenuItem = _React$useState2[1];\n  React.useEffect(refreshMenuItem, []);\n  function refreshMenuItem() {\n    var MenuItemId = props.route.params.id;\n    GetProductById(MenuItemId).then(function (data) {\n      if (data) setMenuItem(data);\n    }).catch(function (error) {\n      PopupOk(\"API Error\", \"Could not get menu item  from the server\");\n      props.navigation.navigate(\"ViewMenu\");\n    });\n  }\n  if (!MenuItem) return;\n  return _jsx(SafeAreaView, {\n    style: Styles.safeAreaView,\n    children: _jsxs(ScrollView, {\n      style: Styles.container,\n      contentContainerStyle: Styles.contentContainer,\n      children: [_jsxs(TextH1, {\n        style: {\n          marginTop: 0\n        },\n        children: [\"menuItem: \", MenuItem.name]\n      }), _jsx(View, {\n        style: Styles.form,\n        children: _jsxs(View, {\n          style: Styles.fieldSet,\n          children: [_jsx(TextParagraph, {\n            style: Styles.legend,\n            children: \"Details\"\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Name:\"\n            }), _jsx(TextParagraph, {\n              children: MenuItem.name\n            })]\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Description:\"\n            }), _jsx(TextParagraph, {\n              children: MenuItem.description\n            })]\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Price:\"\n            }), _jsx(TextParagraph, {\n              children: MenuItem.price\n            })]\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Category:\"\n            }), _jsx(TextParagraph, {\n              children: (_MenuItem$category = MenuItem.category) == null ? void 0 : _MenuItem$category.name\n            })]\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Ingredients:\"\n            }), _jsx(TextParagraph, {\n              children: MenuItem.ingredient\n            })]\n          }), _jsxs(View, {\n            style: Styles.formRow,\n            children: [_jsx(TextLabel, {\n              children: \"Dietary:\"\n            }), _jsx(TextParagraph, {\n              children: MenuItem.dietary\n            })]\n          }), MenuItem && MenuItem.imageName && _jsx(Image, {\n            style: styles.stretch,\n            source: require(\"../assets/images/products/\" + MenuItem.imageName),\n            onError: function onError(_ref) {\n              var currentTarget = _ref.currentTarget;\n              currentTarget.onerror = null;\n              currentTarget.src = \"../assets/images/products/general.jpg\";\n            }\n          })]\n        })\n      })]\n    })\n  });\n}","map":{"version":3,"names":["React","View","ScrollView","SafeAreaView","Settings","GetProductById","GetProducts","PopupOk","PopupOkCancel","TextParagraph","TextH1","TextH2","TextLabel","Styles","Image","StyleSheet","jsxs","_jsxs","jsx","_jsx","ViewMenuItemScreen","props","_MenuItem$category","MenuItemTemplate","id","name","description","price","category","ingredient","dietary","imageName","styles","create","container","paddingTop","stretch","width","height","_React$useState","useState","_React$useState2","_slicedToArray","MenuItem","setMenuItem","useEffect","refreshMenuItem","MenuItemId","route","params","then","data","catch","error","navigation","navigate","style","safeAreaView","children","contentContainerStyle","contentContainer","marginTop","form","fieldSet","legend","formRow","source","require","onError","_ref","currentTarget","onerror","src"],"sources":["C:/Diploma Project Indivisual/BeanSceneProject/BeanSceneMobileApp/MobileAppUI/screens/ViewMenuItemScreen.js"],"sourcesContent":["import * as React from 'react';\nimport { View, ScrollView } from 'react-native';\nimport { SafeAreaView } from \"react-native-safe-area-context\";\n\n// Import helper code\nimport Settings from '../constants/Settings';\nimport { GetProductById, GetProducts } from '../utils/Api';\nimport { PopupOk, PopupOkCancel } from \"../utils/Popup\";\n\n// Import styling and components\nimport { TextParagraph, TextH1, TextH2, TextLabel } from \"../components/StyledText\";\nimport Styles from \"../styles/MainStyle\";\nimport {Image, StyleSheet} from 'react-native';\n\n\n\n\nexport default function ViewMenuItemScreen(props) {\n\n  //Set up defaul person object\n\n\n  const MenuItemTemplate = { \n    id: 0,\n    name: \"\",\n    description : \"\",\n    price:0 ,\n    category: {name: \"\", id: 0},\n    ingredient: \"\",\n    dietary: \"\",\n\n    imageName:\"\"\n\n  }\n  const styles = StyleSheet.create({\n    container: {\n      paddingTop: 50,\n    },\n    stretch: {\n      width: 100,\n      height: 100,\n      \n    },\n  });\n\n\n\n\n  // State - data for this component\n\n  // Store person in state\n  const [MenuItem, setMenuItem] = React.useState(MenuItemTemplate)\n\n  // Set \"effect\" to retrieve and store data - only run on mount/unmount (loaded/unloaded)\n  // \"effectful\" code is something that triggers a UI re-render\n  React.useEffect(refreshMenuItem, [])\n\n  // Refresh the person data - call the API\n  function refreshMenuItem() {\n\n    //Get person id from route\n    const MenuItemId = props.route.params.id\n\n    // Get data from the API\n    GetProductById(MenuItemId)\n      // Success\n      .then(data => {\n        // Store results in state variable\n        if(data) setMenuItem(data)\n      })\n      // Error\n      .catch(error => {\n\n        // Display error\n        PopupOk(\"API Error\", \"Could not get menu item  from the server\")\n\n        //This is optional\n        props.navigation.navigate(\"ViewMenu\")\n\n      })\n\n  }\n\n\n  if (!MenuItem) return\n  // Main output of the screen component\n  return (\n    <SafeAreaView style={Styles.safeAreaView}>\n      \n      <ScrollView style={Styles.container} contentContainerStyle={Styles.contentContainer}>\n          \n        <TextH1 style={{marginTop:0}}>menuItem: {MenuItem.name}</TextH1>\n\n        <View style={Styles.form}>\n         \n          <View style={Styles.fieldSet}>\n              <TextParagraph style={Styles.legend}>Details</TextParagraph>\n              <View style={Styles.formRow}>\n                <TextLabel>Name:</TextLabel>\n                <TextParagraph>{MenuItem.name}</TextParagraph>\n              </View>\n              <View style={Styles.formRow}>\n                <TextLabel>Description:</TextLabel>\n                <TextParagraph>{MenuItem.description}</TextParagraph>\n              </View>\n              <View style={Styles.formRow}>\n                <TextLabel>Price:</TextLabel>\n                <TextParagraph>{MenuItem.price}</TextParagraph>\n              </View>\n              <View style={Styles.formRow}>\n                <TextLabel>Category:</TextLabel>\n                <TextParagraph>{MenuItem.category?.name}</TextParagraph>\n              </View>\n              <View style={Styles.formRow}>\n                <TextLabel>Ingredients:</TextLabel>\n                <TextParagraph>{MenuItem.ingredient}</TextParagraph>\n              </View>\n              <View style={Styles.formRow}>\n                <TextLabel>Dietary:</TextLabel>\n                <TextParagraph>{MenuItem.dietary}</TextParagraph>\n              </View>\n\n              {/**load image only when MenuItem and MenuItem.imageName is not NULL */} \n             {MenuItem && MenuItem.imageName && \n            <Image\n                style={styles.stretch}\n                source={require(\"../assets/images/products/\"+ MenuItem.imageName)}\n                onError={({ currentTarget }) => {\n    currentTarget.onerror = null; // prevents looping\n    currentTarget.src=\"../assets/images/products/general.jpg\";\n  }}\n            /> }\n        \n          </View> \n        </View> \n      </ScrollView>\n    </SafeAreaView>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}